/*
  Author:   Ross Malpass
  Email:    ross.malpass@gmail.com
*/

@import '../../styles/variables.scss';

.timeline {
  position: relative;
  align-self: flex-start;
  margin: $padding-md 0;
  padding: 0;
  list-style: none;
  @include animate(0.16s);

  &.disabled {
    &:before {
      z-index: 3;
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }
    &:hover button:not(:hover) {
      opacity: 1;
    }
  }

  &.loading {

    &:before {
      z-index: 3;
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      cursor: not-allowed;
      @include animate(0.16s);
    }
    &:after {
      position: absolute;
      z-index: 4;
      content: 'Hang on! Map is loading';
      opacity: 0;
      top: 50%;
      left: 50%;
      text-align: center;
      @include tag-text;
      color: $color-white;
      font-size: 14px;
      line-height: 1.24;
      background: $color-deep-blue;
      border-radius: $radius-sm;
      transform: translate(-50%, -50%);
      padding: 8px;
      font-weight: bold;
      @include animate(0.16s);
    }
    &:hover {
      cursor: not-allowed;
      li {
        opacity: 0.24;
      }
      &:after {
        opacity: 1;
      }
    }
  }

  &:hover button:not(:hover) {
    opacity: 0.48;
  }

  li {
    position: relative;
    padding-left: 32px;
    font-family: $headline-font;
    line-height: 20px;
    font-size: 14px;
    letter-spacing: 1px;
    margin: 0;
    padding-bottom: $padding-md;

    &:after {
      position: absolute;
      content: '';
      top: 32px;
      bottom: 8px;
      left: 10px;
      width: 2px;
      border-left: 4px dotted $color-grey-2;
    }
    &:last-child {
      margin-bottom: 0;
      &:after {
        display: none;
      }
    }

    button {
      width: 100%;
      display: block;
      min-height: 24px;
      cursor: pointer;
      margin: 0;
      padding: 0;
      text-align: left;
    }

    strong {
      display: block;
      text-transform: uppercase;
    }

    svg {
      position: absolute;
      top: 0;
      left: 0;
    }
  }

  &.trim {
    li:first-child:nth-last-child(n + 5) ~ li {
      display: none;
      &:first-child,
      &:last-child {
        display: block;
      }
    }
  }

  @include for-tablet-portrait-up {
    margin: 0;
  }
}
